language: objective-c

before_install:
# print version of os x
#- sw_vers
#install xctool
- brew update
- brew remove xctool
- brew install xctool
- chmod +x scripts/travis/add-key.sh
- chmod +x scripts/travis/remove-key.sh

before_script:
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/travis/Profile/V2Inc_Development_Wildcard.mobileprovision.enc -d -a -out scripts/travis/Profile/V2Inc_Development_Wildcard.mobileprovision
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/travis/Certificates/Certificate.cer.enc -d -a -out scripts/travis/Certificates/Certificate.cer
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/travis/Certificates/Certificates-key.p12.enc -d -a -out scripts/travis/Certificates/Certificates-key.p12

xcodebuild -scheme XcodeTravis clean test
- ./scripts/travis/add-key.sh

script:
-xcodebuild -project XcodeTravis.xcodeproj -scheme XcodeTravis -sdk iphonesimulator ONLY_ACTIVE_ARCH=NO

after_script:
- ./scripts/travis/remove-key.sh

env:
global:
- APP_NAME="XcodeTravis"
- 'DEVELOPER_NAME="iPhone Developer: Ajay Sharma (TCGKB2TTPP)"'
- PROFILE_NAME="V2Inc_Development_Wildcard"





