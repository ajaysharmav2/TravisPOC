language: objective-c
before_install:
-# print version of os x
-#- sw_vers
-#install xctool
- brew update
- brew remove xctool
- brew install xctool
- chmod +x scripts/travis/add-key.sh
- chmod +x scripts/travis/remove-key.sh
before_script:
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/travis/Profile/V2Inc_Universal_Disribution.mobileprovision.enc
  -d -a -out scripts/travis/Profile/V2Inc_Universal_Disribution.mobileprovision
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/travis/Certificates/DistribCertificates.cer.enc
  -d -a -out scripts/travis/Certificates/DistribCertificates.cer
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/travis/Certificates/Certificates-Distribkey.p12.enc
  -d -a -out scripts/travis/Certificates/Certificates-Distribkey.p12
- ./scripts/travis/add-key.sh
script:
- xcodebuild test -project XcodeTravis.xcodeproj  -scheme XcodeTravis  -sdk iphonesimulator
  ONLY_ACTIVE_ARCH=NO
after_script:
- ./scripts/travis/remove-key.sh
env:
  global:
  - APP_NAME="XcodeTravis"
  - 'DEVELOPER_NAME="iPhone Distribution: V2Solutions, Inc. (4G2KHJ47KE)"'
  - PROFILE_NAME="V2Inc_Universal_Disribution"
  - secure: gkJBcl0By6IIBs8Vf0sLdOZ9iaWmOOha6oTUVVROczWxeJFTSx5O+UFkMf6UtcoFsquBbhiKw0qJCwmS6mrBoM9yOv5g1VtJqtLrrk99hVjbWExx8qEmt9HCSIPW77R77jkQRn4SkP3KVOKMc7+V5zMbL1Soh0SgH0jM31OILIY=
  - secure: UMp+xhMWLrqMzniugmpFFOAH7nmgpHcv3wRowhfinCyOq3Z9bCrxfhKAaOJ6MHGXrLQC4eaJ5UfWI143jkQHTQKSA9RTeYNizkTCIM2c35CtL0EMof8I3vyf3I7eAlmg49KeYc8ES65NcXtpcjdMCSkOjKgF/mUP4wkn3BG9DuQ=
